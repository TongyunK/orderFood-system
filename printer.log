[2026-01-16T07:44:33.423Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T07:46:04.971Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T07:46:17.003Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T07:48:04.008Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T07:48:08.426Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T07:48:25.982Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T07:48:41.796Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T08:10:20.598Z] [DEBUG] 模拟打印订单小票（DLL未加载）
{
  "order_number": "OF51020559",
  "items": 2,
  "total_amount": 184
}
[2026-01-16T08:12:50.672Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T08:12:54.591Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T08:12:55.727Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T08:14:17.175Z] [WARN ] 打印机 DLL 加载失败，将使用模拟模式
{
  "error": "Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.",
  "stack": "Error: Dynamic Linking Error: Failed to load library \"C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\printer_sdk\\CsnPrinterLibs.dll\". The error message could not be retrieved (dlerror returned null). This may indicate: 1) The DLL file is missing or inaccessible, 2) The DLL architecture (32/64-bit) does not match the Node.js process, 3) Required dependencies are missing, or 4) The DLL path is incorrect.\n    at new DynamicLibrary (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\dynamic_library.js:51:13)\n    at Object.Library (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\node_modules\\ffi-napi\\lib\\library.js:47:10)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\printerService.js:251:22)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (C:\\Users\\momo0\\Documents\\CursorProjects\\orderFood-system\\orderFood-server\\services\\orderFoodService.js:1:24)",
  "hint": "请确保已安装依赖: npm install ffi-napi ref-napi ref-struct-napi ref-array-napi。如果是打包环境，请确保这些模块已复制到可执行文件同目录下的 node_modules 目录中。"
}
[2026-01-16T08:37:45.212Z] [DEBUG] 模拟打印订单小票（DLL未加载）
{
  "order_number": "OF52665172",
  "items": 2,
  "total_amount": 112
}
